     <!doctype html>
<!--[if lt IE 7 ]> <html lang="en" class="no-js ie6"> <![endif]-->
<!--[if IE 7 ]>    <html lang="en" class="no-js ie7"> <![endif]-->
<!--[if IE 8 ]>    <html lang="en" class="no-js ie8"> <![endif]-->
<!--[if IE 9 ]>    <html lang="en" class="no-js ie9"> <![endif]-->
<!--[if (gt IE 9)|!(IE)]><! <html lang="en" class="no-js"><![endif]-->

<!-- Mirrored from tn42.com/space/ by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 24 Jan 2019 01:29:47 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

	<title>Space Test</title>

	<meta name="viewport" content="width=device-width, initial-scale=1.0">

	<!-- <link rel="shortcut icon" href="/favicon.ico">
	<link rel="apple-touch-icon" href="/apple-touch-icon.png">
	<link rel="stylesheet" href="css/application.css?v=2"> -->

    <link rel="stylesheet" href="../styles/index.css">

	<!--[if lt IE 9]>
	<script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
	<![endif]-->

	<!--lib->
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.js"></script>-->
    <script src="../jquery/index.js"></script>
    <script src="../ninjaships/index.js"></script>
    <script src="../spritely/scripts/jquery.spritely-0.6/index.js"></script>
</head>
<body class="fixed space">

  <!--<div class="debug"></div>-->

  <script>
    function round_number(num, dec) {
      return Math.round(num*Math.pow(10,dec))/Math.pow(10,dec);
    }

    var ships = [];
    var degree = 0;


    var keyCodes = {
      16: 'shift', 32: 'space', 37: 'left', 38: 'up', 39: 'right', 40: 'down', 9: 'tab',
      87: 'w', 83: 's', 65: 'a', 68: 'd'
    };

    $(document).keydown(function(e){ // KEYDOWN INIT ----------------
      //console.log(e.keyCode);

      switch (keyCodes[e.keyCode]){
        case 'up':
          //ships[1].thrust = 0.2; break;
        case 'down':
          //ships[1].thrust = -0.2; break;
        case 'left':
          //ships[1].turn = -//ships[1].rotation_speed; break;
        case 'right':
          //ships[1].turn = //ships[1].rotation_speed; break;
        case 'space':
          //ships[1].fire();
      }


      switch (keyCodes[e.keyCode]){
        case 'w':
          ships[0].thrust = 0.2; break;
        case 's':
          ships[0].thrust = -0.2; break;
        case 'a':
          ships[0].turn = -ships[0].rotation_speed; break;
        case 'd':
          ships[0].turn = ships[0].rotation_speed; break;
        case 'shift':
          ships[0].fire();
      }

    }).keyup(function(e){ // KEYUP CANCEL ----------------
      switch (keyCodes[e.keyCode]){
        case 'up': case 'down':
          //ships[1].thrust = 0;
          break;
        case 'left': case 'right':
          //ships[1].turn = 0;
      }

      switch (keyCodes[e.keyCode]){
        case 'w': case 's':
          ships[0].thrust = 0;
          break;
        case 'a': case 'd':
          ships[0].turn = 0;
      }
    })


    bind_push_events(function(e){
      //var pos = ships[0].pos;
      //pos.d = (Math.atan2(e.y-pos.y-32, e.x-pos.x-32) * (180 / Math.PI)) + 90;
      //$('.debug').html('START x:' + e.x + ' y:' + e.y);
      ships[0].thrust = 0.2;
      pushpos.x = e.x;
      pushpos.y = e.y;
    }, function(e){
      //$('.debug').html('XXEND x:' + e.x + ' y:' + e.y);
      ships[0].thrust = 0;
    });




    $(function() {
        ships[0] = new shipObject("SuperShip", 'ship1', 'b', {x:70, y:50, d:90});
        //ships[1] = new shipObject("FlooperShip", 'ship2', 'a', {x:70, y:50, d:90});

        //*
        (function animloop(){
          if (!stopanim){
            requestAnimFrame(animloop);
          }
          run_ship_anim_frame();
          if (mousedown == 1){
            var pos = ships[0].pos;
            pos.d = (Math.atan2(pushpos.y-pos.y-32, pushpos.x-pos.x-32) * (180 / Math.PI)) + 90;
          }

        })();

        //*/

        /*

        setInterval(function() {
          if (stopanim){
            return;
          }

          run_ship_anim_frame();
        }, animdelay);
        //*/
    });

    var mousedown = 0;
    var pushpos = {x:0, y:0};
    function bind_push_events(position_callback, end_callback){
      var x, y;
      if (document.body.ontouchstart === undefined){ // For desktop browsers
        $(document).bind('mousedown', function(e){
          position_callback({x:e.pageX, y:e.pageY});
          mousedown = e.which;
          return false;
        });

        $(document).bind('mousemove', function(e){
          if (mousedown == 1){
            position_callback({x:e.pageX, y:e.pageY});
            return false;
          }
        });

        $(document).bind('mouseup', function(e){
          end_callback({x:e.pageX, y:e.pageY});
          mousedown = 0;
          return false;
        });

      }else{  // For all touch devices
        $(document).bind('touchstart touchmove', function(e){
          var orig = e.originalEvent;
          x = orig.changedTouches[0].pageX;
          y = orig.changedTouches[0].pageY;
          position_callback({x:x, y:y}); //80, 60
          mousedown = 1;
          return false;
        });

        $(document).bind('touchend', function(e){
          var orig = e.originalEvent;
          x = orig.changedTouches[0].pageX;
          y = orig.changedTouches[0].pageY;
          end_callback({x:x, y:y});
          mousedown = 0;
          return false;
        });
      }
    }

  </script>
</body>

<!-- Mirrored from tn42.com/space/ by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 24 Jan 2019 01:29:48 GMT -->
</html>